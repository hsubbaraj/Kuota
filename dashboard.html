<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>Dashboard with Off-canvas Sidebar</title>
		<meta name="generator" content="Bootply" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<!--[if lt IE 9]>
			<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<link href="css/styles2.css" rel="stylesheet">
	</head>
	<body>
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Kuota DashBoard</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a id="personal"href="#">Hi, </a></li>
            <li><a data-toggle="modal" data-target="#booth_modal" href="#">Create Booth</a></li>
            <li><a id="logout"href="#">Logout</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <input type="text" class="form-control" placeholder="Search...">
          </form>
        </div>
      </div>
</nav>
<!----------------------------------------------------------------------------- -->
<div id="booth_modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
  <div class="modal-content">
      <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
          <h1 class="text-center">Create a Booth</h1>
      </div>
      <div class="modal-body">
          <form class="form col-md-12 center-block">
            <div class="form-group">
              <input type="text" name="event1"class="form-control input-lg" value="" placeholder="Event Name">
            </div> 
            <div class="form-group">
              <input type="text" name="event_location"class="form-control input-lg" value="" placeholder="Event Address">
            </div>  
            <div class="form-group">
              <input type="text" name="description"class="form-control input-lg" value="" placeholder="Short Description">
            </div>
            
            <div class="form-group">
              <button onclick="createBooth(this.form);" class="btn btn-primary btn-lg btn-block pressbtn">Create Booth</button>
              <span class="pull-right"><a href="login.html">Login</a></span><span><a href="register.html">Need help?</a></span>
            </div>
          </form>
      </div>
      <div class="modal-footer">
          <div class="col-md-12">
          <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
      </div>  
      </div>
  </div>
  </div>
</div>
<!----------------------------------------------------------------------------- -->

<div class="container-fluid">
      
      <div class="row row-offcanvas row-offcanvas-left">
        
         <div class="col-sm-3 col-md-2 sidebar-offcanvas" id="sidebar" role="navigation">
           
            <ul class="nav nav-sidebar">
              <li class="active"><a href="#">Overview</a></li>
            </ul>
          
        </div><!--/span-->
        
        <div class="col-sm-9 col-md-10 main">
          
          <!--toggle sidebar button-->
          <p class="visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas"><i class="glyphicon glyphicon-chevron-left"></i></button>
          </p>
          
		  <h1 class="page-header">
            Registration Results
      </h1>

          <hr>

          <div class="table-responsive" >
            <table class="table table-striped" id="results-table">
                <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Age</th>
                  <th>Phone</th>
                  <th>Github</th>
                  <th>Twitter</th>
                  <th>LinkedIn</th>
                </tr>
              </thead>
            </table>


          </div>

          
          
      </div><!--/row-->
	</div>
</div><!--/.container-->

<footer>
  <p class="pull-right">©2014 Company</p>
</footer>
        
	<!-- script references -->
		
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script type="text/javascript" src="http://www.parsecdn.com/js/parse-latest.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/scripts2.js"></script>
    <script src="js/scripts3.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDbHPLX0KnaYSa4188aQyPG0Xb4S91K_aQ&signed_in=true&callback=initMap"
        async defer></script>
    <script type="text/javascript">

          Parse.initialize("AT6kQiqLbamQbbLDGX6GQSJ97WzoMZlaoK7WUBFE", "fegB9aRyHm6NdazycJLdhoaAguQcheeyIyrQKLkb");
          var currentUser = Parse.User.current();
          console.log(currentUser.get("username"));
            if (currentUser) {
                // do stuff with the user
                  //window.location.assign("dashboard.html");
                  var div = document.getElementById('personal');

                  div.innerHTML = div.innerHTML + Parse.User.current().get("username");
                  // alert(Parse.User.current().get("username"));
            } else {
                // show the signup or login page
                window.location.assign("index.html");
            }

          Parse.initialize("AT6kQiqLbamQbbLDGX6GQSJ97WzoMZlaoK7WUBFE", "fegB9aRyHm6NdazycJLdhoaAguQcheeyIyrQKLkb");
           var Checks = Parse.Object.extend("Checks");
            var queryA = new Parse.Query(Checks);

            // Search by organization first. Then figure out displaying by different 
            queryA.equalTo("event", "Cal Hacks");

            var queryB = new Parse.Query("Checks");
            //queryA.equalTo("org", currentUser);

            //var query = Parse.Query.and(queryA, queryB);
            queryA.find({
                success: function(results) {
                   for (var i = 0; i < results.length; i++) { 
                       console.log(results[i]);
                       var object = results[i];
                       console.log(object.get('github'));
                          
                       $('#results-table').append('<tr><td>' + object.get('name') + '</td>' +
                        '<td>'+ object.get('email')    + '</td>'+
                        '<td>'+ object.get('age')      + '</td>' +
                        '<td>'+ object.get('phone')    + '</td>'+
                        '<td>'+ object.get('github')   + '</td>'+
                        '<td>'+ object.get('twitter')  + '</td>'+
                        '<td>'+ object.get('linkedin') + '</td></tr>');
                        
                        
                   }
                },
                error: function(error) {
                    alert("Error: " + error.code + " " + error.message);
                }
            });
          

  </script>
	</body>
</html>